<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<!-- 新 Bootstrap 核心 CSS 文件 -->
		<link rel="stylesheet" href="http://cdn.bootcss.com/bootstrap/3.3.0/css/bootstrap.min.css">
		
		<style type="text/css">
			body{
				padding-top: 50px;
			}
			div[class^=col] {
				padding: 10px
			}
			.item{
				height: 120px;
				border-radius : 4px;
				background : #eee;
				text-align: center;
			}
		</style>
	</head>
	<script src="js/common.js" type="text/javascript" charset="utf-8"></script>
	<script src="js/cookie.js" type="text/javascript" charset="utf-8"></script>
	<script>
		onload = function(){
			
			let arr = getCookie("商品");
			console.log(arr);
			for(let i=0;i<arr.length;i++){
				let tab = document.getElementById("table_data");
				//console.log(tab);
				let tr1 = tab.children[0].children[1];
				//console.log(tr1);
				let trn = document.createElement("tr");
				var str = JSON.parse(arr[i]);
				console.log(str);
				trn.innerHTML = tr1.innerHTML;
				// console.log(trn);
				trn.children[0].children[0].innerText = str.name;
				trn.children[1].children[0].innerText = "$"+str.price;
				tab.children[0].appendChild(trn);
			}
			let dels = getElementsByClassName("btn-danger");
			console.log(dels);
			for(let j=0;j<dels.length;j++){
				dels[j].addEventListener("click",function(){
					this.parentNode.parentNode.remove();
					// 删除cookie
					let name = this.parentNode.parentNode.children[0].innerText;
					console.log(name);
					removeCookie(name);
				})
			}
		}
	</script>
	<body>
		<div class="container">
			<div class="col-lg-8">
				<table id="table_data" class="table table-hover">
					<tr>
						<td class="active">商品名称</td>
						<td class="success">商品价格</td>
						<td class="warning">商品数量</td>
						<td class="danger">operation</td>
					</tr>
					<tr style="display:none">
						<td class="text-center"><h5></h5></td>
						<td class="text-center"><h5>$</h5></td>
						<td class="text-center" style="width:150px">
						<div class="input-group">
							<span class="input-group-addon input-sm">-</span>
							<input type="text" class="form-control" placeholder="Amount">
							<span class="input-group-addon input-sm">+</span>
						</div>
						</td>
						<td class="text-center">
						<button class="btn btn-danger btn-sm" href="#" role="delete">删除</button>
						</td>
					</tr>
				</table>
				<hr>
				<div class="text-center">
					<a class="btn btn-primary btn-lg">提交订单</a>
				</div>
			</div>
		</div>
	</body>
</html>

